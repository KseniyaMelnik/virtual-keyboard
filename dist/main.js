(()=>{"use strict";function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=new WeakSet;function t(e){var n=document.createElement("div");return n.innerHTML=this.keyLayout[e][this.language],n}const a=function(){function a(e,t,r,i){var o,c;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(o=this,c=n),c.add(o),this.parentNode=e,this.key=t,this.keyLayout=r,this.language=i}var r,i;return r=a,(i=[{key:"addKeyboardListener",value:function(e){var n=this;window.addEventListener("keydown",(function(t){if(t.preventDefault(),t.code===n.key){var a=new Event("mousedown",{bubbles:!0,cancelable:!0});e.dispatchEvent(a),e.classList.add("keyboard__key_active")}})),window.addEventListener("keyup",(function(t){if(t.code===n.key){var a=new Event("mouseup",{bubbles:!0,cancelable:!0});e.dispatchEvent(a),e.classList.remove("keyboard__key_active")}}))}},{key:"create",value:function(){var e=document.createElement("button");return e.setAttribute("type","button"),e.classList.add("keyboard__key",this.keyLayout[this.key].class,this.keyLayout[this.key].block),e.append(function(e,n,t){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return t}(this,n,t).call(this,this.key)),this.addKeyboardListener(e),this.parentNode.append(e),e}}])&&e(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),a}();function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,n){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.add(e)}function s(e,n,t){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var u=new WeakSet,l=new WeakSet,y=new WeakSet;function k(){var e=this,n=document.createDocumentFragment(),t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},this.keyboardData),o=document.createElement("div");o.classList.add("mainBlock");var c=document.createElement("div");c.classList.add("numPad");var u=document.createElement("div");u.classList.add("arrowBlock");var k=document.createElement("div");k.classList.add("settingsBlock"),Object.keys(t).forEach((function(n){var r=null;switch(t[n].block){case"numKey":r=c;break;case"arrowKey":r=u;break;case"settingKey":r=k;break;default:r=o}var i=new a(r,n,t,e.language).create();switch(n){case"Backspace":i.addEventListener("mousedown",(function(){var n=function(e){if(e.focus(),e.selectionStart)return e.selectionStart;if(document.selection){var n=document.selection.createRange(),t=n.duplicate();return n.collapse(TextTrackCueList),t.moveToElementText(e),t.setEndPoint("EndToEnd",n),t.text.length}return 0}(e.screen),t=e.value.split("");0!==n&&t.splice(n-1,1);var a,r=t.join("");e.value=r,e.screen.value=e.value,function(e,n,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(n,t);else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",n),a.select()}}(e.screen,a=0===n?0:n-1,a)}));break;case"Escape":case"F1":case"F2":case"F3":case"F4":case"F5":case"F6":case"F7":case"F8":case"F9":i.addEventListener("mousedown",(function(){}));break;case"CapsLock":i.addEventListener("mousedown",(function(){s(e,l,b).call(e)}));break;case"AltLeft":case"AltRight":case"ControlLeft":case"ControlRight":break;case"Enter":i.classList.add("keyboard__key--wide"),i.addEventListener("mousedown",(function(){e.value+="\n",e.screen.value=e.value}));break;case"Tab":i.addEventListener("mousedown",(function(){e.value+="    ",e.screen.value=e.value}));break;case"ShiftLeft":case"ShiftRight":i.addEventListener("mousedown",(function(){s(e,y,d).call(e)})),i.addEventListener("mouseup",(function(){s(e,y,d).call(e)}));break;case"Space":i.addEventListener("mousedown",(function(){e.value+=" ",e.screen.value=e.value}));break;default:i.addEventListener("mousedown",(function(){e.value+=e.capsLock&&!e.shift||!e.capsLock&&e.shift?t[n][e.language].toUpperCase():t[n][e.language].toLowerCase(),e.screen.value=e.value}))}}));var m=document.createElement("div");return m.classList.add("mainGroup"),n.append(k),n.append(m),m.append(o),m.append(u),m.append(c),n}function b(){var e=this;this.capsLock=!this.capsLock,this.keys.forEach((function(n,t){e.keys[t].innerHTML=e.capsLock?e.keys[t].innerHTML.toUpperCase():e.keys[t].innerHTML.toLowerCase()}))}function d(){var e=this;this.shift=!this.shift,this.keys.forEach((function(n,t){var a;e.keys[t].innerHTML=(a=n.innerHTML,a.valueOf().split("").map((function(e){return e.toLowerCase()===e?e.toUpperCase():e.toLowerCase()})).join(""))}))}var m=new(function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,y),c(this,l),c(this,u),this.keyboardData=n,this.main=null,this.keysContainer=null,this.screen=null,this.keys=[],this.value="",this.capsLock=!1,this.shift=!1,this.language="en"}var n,t;return n=e,(t=[{key:"init",value:function(){this.main=document.createElement("div"),this.keysContainer=document.createElement("div"),this.screen=document.createElement("textarea"),this.main.classList.add("keyboard"),this.keysContainer.classList.add("keyboard__keys"),this.keysContainer.append(s(this,u,k).call(this)),this.screen.classList.add("screen"),this.keys=this.keysContainer.querySelectorAll(".keyboard__key"),this.main.append(this.keysContainer),this.main.prepend(this.screen),document.body.append(this.main)}}])&&o(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),e}())({Escape:{en:"ESC",ru:"ESC",block:"settingKey"},F1:{en:"F1",ru:"F1",block:"settingKey"},F2:{en:"F2",ru:"F2",block:"settingKey"},F3:{en:"F3",ru:"F3",block:"settingKey"},F4:{en:"F4",ru:"F4",block:"settingKey"},F5:{en:"F5",ru:"F5",block:"settingKey"},F6:{en:"F6",ru:"F6",block:"settingKey"},F7:{en:"F7",ru:"F7",block:"settingKey"},F8:{en:"F8",ru:"F8",block:"settingKey"},F9:{en:"F9",ru:"F9",block:"settingKey"},F10:{en:"F10",ru:"F10",block:"settingKey"},F11:{en:"F11",ru:"F11",block:"settingKey"},F12:{en:"F12",ru:"F12",block:"settingKey"},Delete:{en:"Delete",ru:"Insert",block:"settingKey"},Pause:{en:"Pause",ru:"Break",block:"settingKey"},PrtSc:{en:"PrtSc",ru:"SysRq",block:"settingKey"},Home:{en:"Home",ru:"Home",block:"settingKey"},Backquote:{en:"`",ru:"ё",block:"mainKey"},Digit1:{en:"1",ru:"1",block:"mainKey"},Digit2:{en:"2",ru:"2",block:"mainKey"},Digit3:{en:"3",ru:"3",block:"mainKey"},Digit4:{en:"4",ru:"4",block:"mainKey"},Digit5:{en:"5",ru:"5",block:"mainKey"},Digit6:{en:"6",ru:"6",block:"mainKey"},Digit7:{en:"7",ru:"7",block:"mainKey"},Digit8:{en:"8",ru:"8",block:"mainKey"},Digit9:{en:"9",ru:"9",block:"mainKey"},Digit0:{en:"0",ru:"0",block:"mainKey"},Minus:{en:"-",ru:"-",block:"mainKey"},Equal:{en:"=",ru:"=",block:"mainKey"},Backspace:{en:"⟵",ru:"⟵",block:"mainKey",class:"keyboard__key--wide"},NumLock:{en:"Num Lk",ru:"Num Lk",block:"numKey"},NumpadDivide:{en:"/",ru:"/",block:"numKey"},NumpadMultiply:{en:"*",ru:"*",block:"numKey"},NumpadSubtract:{en:"-",ru:"-",block:"numKey"},Tab:{en:"↹",ru:"↹",block:"mainKey",class:"keyboard__key--tab"},KeyQ:{en:"q",ru:"й",block:"mainKey"},KeyW:{en:"w",ru:"ц",block:"mainKey"},KeyE:{en:"e",ru:"у",block:"mainKey"},KeyR:{en:"r",ru:"к",block:"mainKey"},KeyT:{en:"t",ru:"е",block:"mainKey"},KeyY:{en:"y",ru:"н",block:"mainKey"},KeyU:{en:"u",ru:"г",block:"mainKey"},KeyI:{en:"i",ru:"ш",block:"mainKey"},KeyO:{en:"o",ru:"щ",block:"mainKey"},KeyP:{en:"p",ru:"з",block:"mainKey"},BracketLeft:{en:"[",ru:"[",block:"mainKey"},BracketRight:{en:"]",ru:"]",block:"mainKey"},BackSlash:{en:"\\",ru:"\\",block:"mainKey"},Numpad7:{en:"7",ru:"7",block:"numKey"},Numpad8:{en:"8",ru:"8",block:"numKey"},Numpad9:{en:"9",ru:"9",block:"numKey"},NumpadAdd:{en:"+",ru:"+",block:"numKey"},CapsLock:{en:"Caps Lock",ru:"Caps Lock",block:"mainKey",class:"keyboard__key--wide"},KeyA:{en:"a",ru:"ф",block:"mainKey"},KeyS:{en:"s",ru:"ы",block:"mainKey"},KeyD:{en:"d",ru:"в",block:"mainKey"},KeyF:{en:"f",ru:"а",block:"mainKey"},KeyG:{en:"g",ru:"п",block:"mainKey"},KeyH:{en:"h",ru:"р",block:"mainKey"},KeyJ:{en:"j",ru:"о",block:"mainKey"},KeyK:{en:"k",ru:"л",block:"mainKey"},KeyL:{en:"l",ru:"д",block:"mainKey"},Semicolon:{en:";",ru:"ж",block:"mainKey"},Quote:{en:"'",ru:"э",block:"mainKey"},Enter:{en:"⮨",ru:"⮨",block:"mainKey",class:"keyboard__key--wide"},Numpad4:{en:"4",ru:"4",block:"numKey"},Numpad5:{en:"5",ru:"5",block:"numKey"},Numpad6:{en:"6",ru:"6",block:"numKey"},ShiftLeft:{en:"Shift",ru:"Shift",block:"mainKey",class:"keyboard__key--shift"},KeyZ:{en:"z",ru:"я",block:"mainKey"},KeyX:{en:"x",ru:"ч",block:"mainKey"},KeyС:{en:"с",ru:"c",block:"mainKey"},KeyV:{en:"v",ru:"м",block:"mainKey"},KeyB:{en:"b",ru:"и",block:"mainKey"},KeyN:{en:"n",ru:"т",block:"mainKey"},KeyM:{en:"m",ru:"ь",block:"mainKey"},Comma:{en:",",ru:"б",block:"mainKey"},Period:{en:".",ru:"ю",block:"mainKey"},Slash:{en:"/",ru:".",block:"mainKey"},ShiftRight:{en:"Shift",ru:"Shift",block:"mainKey",class:"keyboard__key--shift"},Numpad1:{en:"1",ru:"1",block:"numKey"},Numpad2:{en:"2",ru:"2",block:"numKey"},Numpad3:{en:"3",ru:"3",block:"numKey"},NumpadEnter:{en:"⮨",ru:"⮨",block:"numKey"},ControlLeft:{en:"Ctrl",ru:"Ctrl",block:"mainKey",class:"keyboard__key--ctrl"},FnLeft:{en:"FN",ru:"Fn",block:"mainKey"},MetaLeft:{en:"⊞",ru:"⊞",block:"mainKey"},AltLeft:{en:"ALT",ru:"ALT",block:"mainKey"},Space:{en:"Space",ru:"Space",block:"mainKey",class:"keyboard__key--extra-wide"},AltRight:{en:"ALT",ru:"ALT",block:"mainKey"},FnRight:{en:"FN",ru:"FN",block:"mainKey"},ContextMenu:{en:"▤",ru:"▤",block:"mainKey"},ControlRight:{en:"Ctrl",ru:"Ctrl",block:"mainKey",class:"keyboard__key--shift"},ArrowUp:{en:"↑",ru:"↑",block:"arrowKey"},Numpad0:{en:"0",ru:"0",block:"numKey"},NumpadDecimal:{en:".",ru:",",block:"numKey"},ArrowLeft:{en:"←",ru:"←",block:"arrowKey"},ArrowDown:{en:"↓",ru:"↓",block:"arrowKey"},ArrowRight:{en:"→",ru:"→",block:"arrowKey"}});window.addEventListener("DOMContentLoaded",(function(){m.init()}))})();